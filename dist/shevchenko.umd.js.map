{"version":3,"sources":["webpack://shevchenko/webpack/universalModuleDefinition","webpack://shevchenko/webpack/bootstrap","webpack://shevchenko/./src/enums.js","webpack://shevchenko/./src/services/inflector/ruleUtil.js","webpack://shevchenko/external \"joi\"","webpack://shevchenko/./src/util/stringUtil.js","webpack://shevchenko/./src/services/pos/config.js","webpack://shevchenko/./src/api/entrypoint.js","webpack://shevchenko/./src/api/schema.js","webpack://shevchenko/./src/bootstrap.js","webpack://shevchenko/./src/config.js","webpack://shevchenko/./node_modules/process/browser.js","webpack://shevchenko/./src/services/inflector/AnthroponymInflector.js","webpack://shevchenko/./src/services/inflector/FirstNameInflector.js","webpack://shevchenko/./src/services/inflector/LastNameInflector.js","webpack://shevchenko/./src/services/inflector/MiddleNameInflector.js","webpack://shevchenko/./src/services/inflector/RuleInflector.js","webpack://shevchenko/./src/util/regExpUtil.js","webpack://shevchenko/./src/services/pos/Recognizer.js","webpack://shevchenko/./src/services/pos/RecognizerRule.js","webpack://shevchenko/./src/services/pos/NeuralNetwork.js","webpack://shevchenko/external \"synaptic\"","webpack://shevchenko/./src/services/pos/neuralNetworkUtil.js","webpack://shevchenko/./src/util/InMemoryCache.js"],"names":["GENDER","Object","freeze","MALE","FEMALE","INFLECTION_CASE","NOMINATIVE","GENITIVE","DATIVE","ACCUSATIVE","ABLATIVE","LOCATIVE","VOCATIVE","matchGender","matchUsage","matchRegExp","matchPos","compareUsage","rule","gender","includes","usage","strict","usages","length","word","RegExp","regexp","find","test","pos","firstRule","secondRule","isUpperCase","isLowerCase","toBinary","applyCaseMask","source","charAt","toUpperCase","toLowerCase","split","map","char","charCodeAt","toString","join","target","toOriginalCase","mask","reduce","result","method","NETWORK_LAYER_SIZE_INPUT","NETWORK_LAYER_SIZE_HIDDEN","NETWORK_LAYER_SIZE_OUTPUT","POS_MAPPING","noun","adjective","shevchenko","anthroponym","inflectionCase","validation","Joi","validate","schema","error","TypeError","message","anthroponymInflector","inflect","value","inNominative","inGenitive","inDative","inAccusative","inAblative","inLocative","inVocative","inAll","values","results","object","keys","firstName","string","trim","allow","middleName","lastName","valid","required","or","posRecognizer","Recognizer","RecognizerRule","POS_NN_A_YA_STRUCTURE","POS_NN_A_YA_CACHE","POS_NN_OI_YI_II_STRUCTURE","POS_NN_OI_YI_II_CACHE","POS_NN_YH_STRUCTURE","POS_NN_YH_CACHE","ruleInflector","RuleInflector","firstNameInflector","FirstNameInflector","INFLECTION_RULES","middleNameInflector","MiddleNameInflector","lastNameInflector","LastNameInflector","AnthroponymInflector","process","env","ruleUtil","rules","inflectionCaseName","segment","filter","sort","segments","index","isLastSegment","vowels","match","hasOneVowel","recognize","stringUtil","regExpUtil","regExp","modify","inflectionCases","modifiers","inflectedWord","replace","groups","replacer","maxIndex","countGroups","constructor","applyRuleModifier","append","modifierValue","modifier","getRuleModifiers","type","exec","applicable","structure","cache","neuralNetwork","NeuralNetwork","InMemoryCache","hasItem","run","setItem","getItem","synaptic","neuralNetworkUtil","samples","options","network","Architect","Perceptron","Trainer","train","toJSON","Network","fromJSON","input","encodeInput","output","activate","decodeOutput","JSON","stringify","isValidPos","encodeOutput","padStart","Math","round","posIndex","findIndex","posValue","items","Map","forEach","key","set","get","has","delete"],"mappings":"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CA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;;;;;;;ICvLjBU,oB;AACnB;;;;;AAKA,gCAAYP,kBAAZ,EAAgCG,mBAAhC,EAAqDE,iBAArD,EAAwE;AAAA;;AACtE,SAAKL,kBAAL,GAA0BA,kBAA1B;AACA,SAAKG,mBAAL,GAA2BA,mBAA3B;AACA,SAAKE,iBAAL,GAAyBA,iBAAzB;AACD;;AAED;;;;;;;;;;;4BAOQjD,W,EAAaC,c,EAAgB;AACnC,UAAMV,SAAS,EAAf;;AAEA,UAAIS,YAAYwB,SAAZ,IAAyB,IAA7B,EAAmC;AACjCjC,eAAOiC,SAAP,GAAmB,KAAKoB,kBAAL,CAAwBlC,OAAxB,CAAgCV,YAAYwB,SAA5C,EAAuDxB,YAAYzC,MAAnE,EAA2E0C,cAA3E,CAAnB;AACD;;AAED,UAAID,YAAY4B,UAAZ,IAA0B,IAA9B,EAAoC;AAClCrC,eAAOqC,UAAP,GAAoB,KAAKmB,mBA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","file":"shevchenko.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"joi\"), require(\"synaptic\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"joi\", \"synaptic\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"shevchenko\"] = factory(require(\"joi\"), require(\"synaptic\"));\n\telse\n\t\troot[\"shevchenko\"] = factory(root[\"joi\"], root[\"synaptic\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__19__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","/**\n * @typedef {string} GENDER\n * @enum {GENDER}\n */\nexport const GENDER = Object.freeze({\n  MALE: \"male\",\n  FEMALE: \"female\",\n});\n\n/**\n * @typedef {string} INFLECTION_CASE\n * @enum {INFLECTION_CASE}\n */\nexport const INFLECTION_CASE = Object.freeze({\n  NOMINATIVE: \"nominative\",\n  GENITIVE: \"genitive\",\n  DATIVE: \"dative\",\n  ACCUSATIVE: \"accusative\",\n  ABLATIVE: \"ablative\",\n  LOCATIVE: \"locative\",\n  VOCATIVE: \"vocative\",\n});\n","/**\n * @param {object} rule\n * @param {string} rule.gender\n * @param {GENDER} gender\n * @returns {boolean}\n */\nexport function matchGender(rule, gender) {\n  return rule.gender.includes(gender);\n}\n\n/**\n * @param {object} rule\n * @param {Array<string>} rule.usages\n * @param {string} usage\n * @param {boolean} [strict=false]\n * @returns {boolean}\n */\nexport function matchUsage(rule, usage, strict = false) {\n  if (rule.usages.length) {\n    return rule.usages.includes(usage);\n  }\n  return !strict;\n}\n\n/**\n * Matches the rule regular expression.\n *\n * @param {object} rule\n * @param {object} rule.regexp\n * @param {string} rule.regexp.find\n * @param {string} word\n * @returns {boolean}\n */\nexport function matchRegExp(rule, word) {\n  return new RegExp(rule.regexp.find, \"gmi\").test(word);\n}\n\n/**\n * @param {object} rule\n * @param {object} rule.pos\n * @param {string} pos\n * @returns {boolean}\n */\nexport function matchPos(rule, pos) {\n  if (pos === null) {\n    return true;\n  }\n  return rule.pos === pos;\n}\n\n/**\n * @param {object} firstRule\n * @param {Array<string>} firstRule.usages\n * @param {object} secondRule\n * @param {Array<string>} secondRule.usages\n * @param {string} usage\n * @returns {number}\n */\nexport function compareUsage(firstRule, secondRule, usage) {\n  return !firstRule.usages.length && secondRule.usages.length && secondRule.usages.includes(usage);\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","/**\n * Detects if a character is in the upper case at the specified index.\n *\n * @param {string} source\n * @param {number} pos The zero-based index of the desired character.\n */\nexport function isUpperCase(source, pos) {\n  return source.charAt(pos) === source.charAt(pos).toUpperCase();\n}\n\n/**\n * Detects if a character is in the lower case at the specified index.\n *\n * @param {string} source\n * @param {number} pos The zero-based index of the desired character.\n */\nexport function isLowerCase(source, pos) {\n  return source.charAt(pos) === source.charAt(pos).toLowerCase();\n}\n\n/**\n * Converts a string to a binary representation.\n *\n * @param {string} source\n * @returns {string}\n */\nexport function toBinary(source) {\n  return source\n    .split(\"\")\n    .map((char) => char.charCodeAt(0).toString(2))\n    .join(\"\");\n}\n\n/**\n * Applies the case mask of the source to the string.\n *\n * @param {string} source\n * @param {string} target\n * @returns {string}\n */\nexport function applyCaseMask(source, target) {\n  const toUpperCase = \"toUpperCase\";\n  const toLowerCase = \"toLowerCase\";\n  const toOriginalCase = \"toString\";\n\n  const mask = source.split(\"\").reduce((mask, char, pos) => {\n    if (isUpperCase(source, pos)) {\n      return [...mask, toUpperCase];\n    } else if (isLowerCase(source, pos)) {\n      return [...mask, toLowerCase];\n    } else {\n      return [...mask, toOriginalCase];\n    }\n  }, []);\n\n  return target.split(\"\").reduce((result, char, pos) => {\n    const method = mask[pos] || mask[mask.length - 1] || toOriginalCase;\n    return result + target[pos][method]();\n  }, \"\");\n}\n","/**\n * Number of nodes for input layer.\n *\n * @type {number}\n */\nexport const NETWORK_LAYER_SIZE_INPUT = 360;\n\n/**\n * Number of nodes for hidden layer.\n *\n * @type {number}\n */\nexport const NETWORK_LAYER_SIZE_HIDDEN = 20;\n\n/**\n * Number of nodes for output layer.\n *\n * @type {number}\n */\nexport const NETWORK_LAYER_SIZE_OUTPUT = 1;\n\n/**\n * Preconfigured mapping for parts of speech.\n *\n * @readonly\n * @type {object}\n */\nexport const POS_MAPPING = Object.freeze({\n  noun: [0],\n  adjective: [1],\n});\n","import Joi from \"joi\";\nimport schema from \"./schema\";\nimport { GENDER, INFLECTION_CASE } from \"../enums\";\nimport { anthroponymInflector } from \"../bootstrap\";\n\n/**\n * Inflects the anthroponym in a supplied grammatical case.\n *\n * @param {object} anthroponym\n * @param {string} anthroponym.firstName\n * @param {string} anthroponym.lastName\n * @param {string} anthroponym.middleName\n * @param {string} anthroponym.gender\n * @param {string} inflectionCase\n */\nfunction shevchenko(anthroponym, inflectionCase) {\n  const validation = Joi.validate({ anthroponym, inflectionCase }, schema);\n  if (validation.error != null) {\n    throw new TypeError(validation.error.message);\n  }\n  return anthroponymInflector.inflect(validation.value.anthroponym, validation.value.inflectionCase);\n}\n\n/**\n * Inflects the anthroponym in nominative grammatical case.\n *\n * @param {object} anthroponym\n * @param {string} anthroponym.firstName\n * @param {string} anthroponym.lastName\n * @param {string} anthroponym.middleName\n * @param {string} anthroponym.gender\n */\nshevchenko.inNominative = function inNominative(anthroponym) {\n  return shevchenko(anthroponym, INFLECTION_CASE.NOMINATIVE);\n};\n\n/**\n * Inflects the anthroponym in genitive grammatical case.\n *\n * @param {object} anthroponym\n * @param {string} anthroponym.firstName\n * @param {string} anthroponym.lastName\n * @param {string} anthroponym.middleName\n * @param {string} anthroponym.gender\n */\nshevchenko.inGenitive = function inGenitive(anthroponym) {\n  return shevchenko(anthroponym, INFLECTION_CASE.GENITIVE);\n};\n\n/**\n * Inflects the anthroponym in dative grammatical case.\n *\n * @param {object} anthroponym\n * @param {string} anthroponym.firstName\n * @param {string} anthroponym.lastName\n * @param {string} anthroponym.middleName\n * @param {string} anthroponym.gender\n */\nshevchenko.inDative = function inDative(anthroponym) {\n  return shevchenko(anthroponym, INFLECTION_CASE.DATIVE);\n};\n\n/**\n * Inflects the anthroponym in accusative grammatical case.\n *\n * @param {object} anthroponym\n * @param {string} anthroponym.firstName\n * @param {string} anthroponym.lastName\n * @param {string} anthroponym.middleName\n * @param {string} anthroponym.gender\n */\nshevchenko.inAccusative = function inAccusative(anthroponym) {\n  return shevchenko(anthroponym, INFLECTION_CASE.ACCUSATIVE);\n};\n\n/**\n * Inflects the anthroponym in ablative grammatical case.\n *\n * @param {object} anthroponym\n * @param {string} anthroponym.firstName\n * @param {string} anthroponym.lastName\n * @param {string} anthroponym.middleName\n * @param {string} anthroponym.gender\n */\nshevchenko.inAblative = function inAblative(anthroponym) {\n  return shevchenko(anthroponym, INFLECTION_CASE.ABLATIVE);\n};\n\n/**\n * Inflects the anthroponym in locative grammatical case.\n *\n * @param {object} anthroponym\n * @param {string} anthroponym.firstName\n * @param {string} anthroponym.lastName\n * @param {string} anthroponym.middleName\n * @param {string} anthroponym.gender\n */\nshevchenko.inLocative = function inLocative(anthroponym) {\n  return shevchenko(anthroponym, INFLECTION_CASE.LOCATIVE);\n};\n\n/**\n * Inflects the anthroponym in vocative grammatical case.\n *\n * @param {object} anthroponym\n * @param {string} anthroponym.firstName\n * @param {string} anthroponym.lastName\n * @param {string} anthroponym.middleName\n * @param {string} anthroponym.gender\n */\nshevchenko.inVocative = function inVocative(anthroponym) {\n  return shevchenko(anthroponym, INFLECTION_CASE.VOCATIVE);\n};\n\n/**\n * Inflects the anthroponym in all grammatical cases.\n *\n * @param {object} anthroponym\n * @param {string} anthroponym.firstName\n * @param {string} anthroponym.lastName\n * @param {string} anthroponym.middleName\n * @param {string} anthroponym.gender\n */\nshevchenko.inAll = function inAll(anthroponym) {\n  return Object.values(INFLECTION_CASE).reduce((results, inflectionCase) => {\n    results[inflectionCase] = shevchenko(anthroponym, inflectionCase);\n    return results;\n  }, {});\n};\n\nshevchenko.GENDER = GENDER;\nshevchenko.INFLECTION_CASE = INFLECTION_CASE;\n\nexport default shevchenko;\n","import Joi from \"joi\";\nimport { GENDER, INFLECTION_CASE } from \"../enums\";\n\nexport default Joi.object()\n  .keys({\n    anthroponym: Joi.object()\n      .keys({\n        firstName: Joi.string()\n          .trim()\n          .allow(\"\"),\n        middleName: Joi.string()\n          .trim()\n          .allow(\"\"),\n        lastName: Joi.string()\n          .trim()\n          .allow(\"\"),\n        gender: Joi.string()\n          .valid(Object.values(GENDER))\n          .required(),\n      })\n      .or(\"firstName\", \"middleName\", \"lastName\")\n      .required(),\n    inflectionCase: Joi.string()\n      .valid(Object.values(INFLECTION_CASE))\n      .required(),\n  })\n  .required();\n","import { GENDER } from \"./enums\";\nimport {\n  INFLECTION_RULES,\n  POS_NN_A_YA_CACHE,\n  POS_NN_A_YA_STRUCTURE,\n  POS_NN_OI_YI_II_CACHE,\n  POS_NN_OI_YI_II_STRUCTURE,\n  POS_NN_YH_CACHE,\n  POS_NN_YH_STRUCTURE,\n} from \"./config\";\nimport AnthroponymInflector from \"./services/inflector/AnthroponymInflector\";\nimport FirstNameInflector from \"./services/inflector/FirstNameInflector\";\nimport LastNameInflector from \"./services/inflector/LastNameInflector\";\nimport MiddleNameInflector from \"./services/inflector/MiddleNameInflector\";\nimport RuleInflector from \"./services/inflector/RuleInflector\";\nimport Recognizer from \"./services/pos/Recognizer\";\nimport RecognizerRule from \"./services/pos/RecognizerRule\";\n\nconst posRecognizer = new Recognizer([\n  // The part of speech recognizer for female last names with endings \"-a\", \"-я\".\n  new RecognizerRule(\n    (word, gender) => gender === GENDER.FEMALE && /[ая]$/i.test(word),\n    POS_NN_A_YA_STRUCTURE,\n    POS_NN_A_YA_CACHE,\n  ),\n  // The part of speech recognizer for male last names with endings \"-ой\", \"-ий\", \"-ій\".\n  new RecognizerRule(\n    (word, gender) => gender === GENDER.MALE && /(ой|ий|ій)$/i.test(word),\n    POS_NN_OI_YI_II_STRUCTURE,\n    POS_NN_OI_YI_II_CACHE,\n  ),\n  // The part of speech recognizer for male last names with endings \"-их\".\n  new RecognizerRule(\n    (word, gender) => gender === GENDER.MALE && /(их)$/i.test(word),\n    POS_NN_YH_STRUCTURE,\n    POS_NN_YH_CACHE,\n  ),\n]);\n\nconst ruleInflector = new RuleInflector();\nconst firstNameInflector = new FirstNameInflector(ruleInflector, INFLECTION_RULES);\nconst middleNameInflector = new MiddleNameInflector(ruleInflector, INFLECTION_RULES);\nconst lastNameInflector = new LastNameInflector(ruleInflector, INFLECTION_RULES, posRecognizer);\n\nconst anthroponymInflector = new AnthroponymInflector(firstNameInflector, middleNameInflector, lastNameInflector);\n\nexport { anthroponymInflector };\n","const INFLECTION_RULES = process.env.INFLECTION_RULES;\nconst POS_NN_A_YA_STRUCTURE = Object.freeze(process.env.POS_NN_A_YA_STRUCTURE);\nconst POS_NN_A_YA_CACHE = process.env.POS_NN_A_YA_CACHE;\nconst POS_NN_OI_YI_II_STRUCTURE = Object.freeze(process.env.POS_NN_OI_YI_II_STRUCTURE);\nconst POS_NN_OI_YI_II_CACHE = process.env.POS_NN_OI_YI_II_CACHE;\nconst POS_NN_YH_STRUCTURE = Object.freeze(process.env.POS_NN_YH_STRUCTURE);\nconst POS_NN_YH_CACHE = process.env.POS_NN_YH_CACHE;\n\nexport {\n  INFLECTION_RULES,\n  POS_NN_A_YA_STRUCTURE,\n  POS_NN_A_YA_CACHE,\n  POS_NN_OI_YI_II_STRUCTURE,\n  POS_NN_OI_YI_II_CACHE,\n  POS_NN_YH_STRUCTURE,\n  POS_NN_YH_CACHE,\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","export default class AnthroponymInflector {\n  /**\n   * @param {FirstNameInflector} firstNameInflector\n   * @param {MiddleNameInflector} middleNameInflector\n   * @param {LastNameInflector} lastNameInflector\n   */\n  constructor(firstNameInflector, middleNameInflector, lastNameInflector) {\n    this.firstNameInflector = firstNameInflector;\n    this.middleNameInflector = middleNameInflector;\n    this.lastNameInflector = lastNameInflector;\n  }\n\n  /**\n   * Inflects the anthroponym first, last and middle names.\n   *\n   * @param {object} anthroponym\n   * @param {INFLECTION_CASE} inflectionCase\n   * @returns {object}\n   */\n  inflect(anthroponym, inflectionCase) {\n    const result = {};\n\n    if (anthroponym.firstName != null) {\n      result.firstName = this.firstNameInflector.inflect(anthroponym.firstName, anthroponym.gender, inflectionCase);\n    }\n\n    if (anthroponym.middleName != null) {\n      result.middleName = this.middleNameInflector.inflect(anthroponym.middleName, anthroponym.gender, inflectionCase);\n    }\n\n    if (anthroponym.lastName != null) {\n      result.lastName = this.lastNameInflector.inflect(anthroponym.lastName, anthroponym.gender, inflectionCase);\n    }\n\n    return result;\n  }\n}\n","import * as ruleUtil from \"./ruleUtil\";\n\nexport default class FirstNameInflector {\n  /**\n   * @param {RuleInflector} ruleInflector\n   * @param {Array} rules\n   */\n  constructor(ruleInflector, rules) {\n    this.ruleInflector = ruleInflector;\n    this.rules = rules;\n  }\n\n  /**\n   * Inflects a first name.\n   *\n   * @param {string} firstName\n   * @param {GENDER} gender\n   * @param {INFLECTION_CASE} inflectionCaseName\n   * @returns {string}\n   */\n  inflect(firstName, gender, inflectionCaseName) {\n    return firstName\n      .split(\"-\")\n      .map((segment) => {\n        const [rule] = this.rules\n          .filter(\n            (rule) =>\n              ruleUtil.matchGender(rule, gender) &&\n              ruleUtil.matchUsage(rule, \"firstName\") &&\n              ruleUtil.matchRegExp(rule, segment),\n          )\n          .sort((firstRule, secondRule) => ruleUtil.compareUsage(firstRule, secondRule, \"firstName\"));\n\n        if (rule == null) {\n          return segment;\n        }\n\n        return this.ruleInflector.inflect(segment, inflectionCaseName, rule);\n      })\n      .join(\"-\");\n  }\n}\n","import * as ruleUtil from \"./ruleUtil\";\n\nexport default class LastNameInflector {\n  /**\n   * @param {RuleInflector} ruleInflector\n   * @param {Array} rules\n   * @param {Recognizer} posRecognizer\n   */\n  constructor(ruleInflector, rules, posRecognizer) {\n    this.ruleInflector = ruleInflector;\n    this.rules = rules;\n    this.posRecognizer = posRecognizer;\n  }\n\n  /**\n   * Inflects a last name.\n   *\n   * @param {string} lastName\n   * @param {GENDER} gender\n   * @param {INFLECTION_CASE} inflectionCaseName\n   * @returns {string}\n   */\n  inflect(lastName, gender, inflectionCaseName) {\n    const segments = lastName.split(\"-\");\n    return segments\n      .map((segment, index) => {\n        const isLastSegment = index === segments.length - 1;\n        const vowels = segment.match(/(а|о|у|е|и|і|я|ю|є|ї)/gim);\n        const hasOneVowel = vowels && vowels.length === 1;\n        if (!isLastSegment && hasOneVowel) {\n          return segment;\n        }\n\n        const [rule] = this.rules\n          .filter(\n            (rule) =>\n              ruleUtil.matchGender(rule, gender) &&\n              ruleUtil.matchUsage(rule, \"lastName\") &&\n              ruleUtil.matchRegExp(rule, segment) &&\n              ruleUtil.matchPos(rule, this.posRecognizer.recognize(segment.toLowerCase(), gender)),\n          )\n          .sort((firstRule, secondRule) => ruleUtil.compareUsage(firstRule, secondRule, \"lastName\"));\n\n        if (rule == null) {\n          return segment;\n        }\n\n        return this.ruleInflector.inflect(segment, inflectionCaseName, rule);\n      })\n      .join(\"-\");\n  }\n}\n","import * as ruleUtil from \"./ruleUtil\";\n\nexport default class MiddleNameInflector {\n  /**\n   * @param {RuleInflector} ruleInflector\n   * @param {Array} rules\n   */\n  constructor(ruleInflector, rules) {\n    this.ruleInflector = ruleInflector;\n    this.rules = rules;\n  }\n\n  /**\n   * Inflects a middle name.\n   *\n   * @param {string} middleName\n   * @param {GENDER} gender\n   * @param {INFLECTION_CASE} inflectionCaseName\n   * @returns {string}\n   */\n  inflect(middleName, gender, inflectionCaseName) {\n    return middleName\n      .split(\"-\")\n      .map((segment) => {\n        const [rule] = this.rules\n          .filter(\n            (rule) =>\n              ruleUtil.matchGender(rule, gender) &&\n              ruleUtil.matchUsage(rule, \"middleName\", true) &&\n              ruleUtil.matchRegExp(rule, segment),\n          )\n          .sort((firstRule, secondRule) => ruleUtil.compareUsage(firstRule, secondRule, \"middleName\"));\n\n        if (rule == null) {\n          return segment;\n        }\n\n        return this.ruleInflector.inflect(segment, inflectionCaseName, rule);\n      })\n      .join(\"-\");\n  }\n}\n","import * as stringUtil from \"../../util/stringUtil\";\nimport * as regExpUtil from \"../../util/regExpUtil\";\n\nexport default class RuleInflector {\n  /**\n   * Retrieves the inflection rule modifier functions.\n   *\n   * @returns {object}\n   * @private\n   */\n  static getRuleModifiers() {\n    return Object.freeze({\n      append: (value, modifierValue) => value + modifierValue,\n      replace: (value, modifierValue) => modifierValue,\n    });\n  }\n\n  /**\n   * Applies the inflection rule modifier to the value.\n   *\n   * @param {object} modifier\n   * @param {string} modifier.type\n   * @param {string} modifier.value\n   * @param {string} value\n   * @returns {string}\n   * @private\n   */\n  static applyRuleModifier(modifier, value) {\n    if (modifier != null) {\n      const modify = this.getRuleModifiers()[modifier.type];\n      if (modify != null) {\n        return modify(value, modifier.value);\n      }\n    }\n    return value;\n  }\n\n  /**\n   * Inflects a word by the inflection rule.\n   *\n   * @param {string} word\n   * @param {INFLECTION_CASE} inflectionCase\n   * @param {object} rule\n   * @param {object} rule.regexp\n   * @param {string} rule.regexp.modify\n   * @param {string} rule.inflectionCases\n   * @returns {string}\n   */\n  inflect(word, inflectionCase, rule) {\n    const regExp = rule.regexp.modify;\n    const [modifiers] = rule.inflectionCases[inflectionCase];\n    if (modifiers != null) {\n      const inflectedWord = word.replace(new RegExp(regExp, \"gmi\"), (match, ...groups) => {\n        let replacer = \"\";\n        const maxIndex = regExpUtil.countGroups(regExp);\n        for (let index = 0; index < maxIndex; index++) {\n          replacer += this.constructor.applyRuleModifier(modifiers[index], groups[index]);\n        }\n        return replacer;\n      });\n      return stringUtil.applyCaseMask(word, inflectedWord);\n    }\n    return word;\n  }\n}\n","/**\n * Counts a number of groups in a regular expression.\n *\n * @param {RegExp|string} regExp\n * @returns {number}\n */\nexport function countGroups(regExp) {\n  return new RegExp(regExp.toString() + \"|\").exec(\"\").length - 1;\n}\n","export default class Recognizer {\n  /**\n   * @param {Array<RecognizerRule>} rules\n   */\n  constructor(rules) {\n    this.rules = rules;\n  }\n\n  /**\n   * Recognizes the part of speech of the word.\n   *\n   * @param {string} word\n   * @param {GENDER} gender\n   * @returns {string|null} - Recognized part of speech or null if no applicable rule was found.\n   */\n  recognize(word, gender) {\n    const rule = this.rules.find((rule) => rule.applicable(word, gender));\n    if (rule == null) {\n      return null;\n    }\n    return rule.recognize(word, gender);\n  }\n}\n","import NeuralNetwork from \"./NeuralNetwork\";\nimport InMemoryCache from \"../../util/InMemoryCache\";\n\nexport default class RecognizerRule {\n  /**\n   * @param {function} applicable\n   * @param {object} structure\n   * @param {object} [cache]\n   */\n  constructor(applicable, structure, cache = {}) {\n    this.applicable = applicable;\n    this.neuralNetwork = new NeuralNetwork(structure);\n    this.cache = new InMemoryCache(cache);\n  }\n\n  /**\n   * Recognizes part of speech of the word.\n   *\n   * @param {string} word\n   * @param {GENDER} gender\n   */\n  recognize(word, gender) {\n    if (!this.cache.hasItem(word)) {\n      const pos = this.neuralNetwork.run(word);\n      this.cache.setItem(word, pos);\n    }\n    return this.cache.getItem(word);\n  }\n}\n","import * as synaptic from \"synaptic\";\nimport { NETWORK_LAYER_SIZE_INPUT, NETWORK_LAYER_SIZE_HIDDEN, NETWORK_LAYER_SIZE_OUTPUT } from \"./config\";\nimport * as neuralNetworkUtil from \"./neuralNetworkUtil\";\n\n/**\n * @classdesc Part of speech recognition neural network based on three-layer perceptron.\n */\nexport default class NeuralNetwork {\n  /**\n   * Builds the neural network on the training data.\n   *\n   * @param {Array<object>} samples\n   * @param {object} options\n   * @returns {NeuralNetwork}\n   */\n  static build(samples, options) {\n    const network = new synaptic.Architect.Perceptron(\n      NETWORK_LAYER_SIZE_INPUT,\n      NETWORK_LAYER_SIZE_HIDDEN,\n      NETWORK_LAYER_SIZE_OUTPUT,\n    );\n    new synaptic.Trainer(network).train(samples, options);\n    return new this(network.toJSON());\n  }\n\n  /**\n   * @param {object} structure\n   */\n  constructor(structure) {\n    this.network = synaptic.Network.fromJSON(structure);\n  }\n\n  /**\n   * Trains the neural network on the training data samples.\n   *\n   * @param {Array<object>} samples\n   * @param {object} options\n   * @returns {NeuralNetwork}\n   */\n  train(samples, options) {\n    new synaptic.Trainer(this.network).train(samples, options);\n    return this;\n  }\n\n  /**\n   * Runs the neural network on the input data.\n   *\n   * @param {string} input\n   * @returns {string|null}\n   */\n  run(input) {\n    const value = neuralNetworkUtil.encodeInput(input);\n    const output = this.network.activate(value);\n    return neuralNetworkUtil.decodeOutput(output);\n  }\n\n  /**\n   * @returns {string}\n   */\n  toString() {\n    return JSON.stringify(this.network.toJSON());\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__19__;","import * as stringUtil from \"../../util/stringUtil\";\nimport { POS_MAPPING, NETWORK_LAYER_SIZE_INPUT } from \"./config\";\n\n/**\n * Determines if provided value is a valid part of speech value.\n *\n * @param {string} value\n * @returns {boolean}\n */\nexport function isValidPos(value) {\n  return Object.keys(POS_MAPPING).includes(value);\n}\n\n/**\n * Encodes word value for usage in the neural network.\n *\n * @param {string} input\n * @returns {Array<string>}\n */\nexport function encodeInput(input) {\n  return stringUtil\n    .toBinary(input)\n    .padStart(NETWORK_LAYER_SIZE_INPUT, \"0\")\n    .split(\"\");\n}\n\n/**\n * Encodes part of speech value for usage in the neural network.\n *\n * @param {string} output\n * @returns {Array<number>|undefined}\n */\nexport function encodeOutput(output) {\n  return POS_MAPPING[output];\n}\n\n/**\n * Decodes part of speech value returned from the neural network.\n *\n * @param {Array<number>} output\n * @returns {string|null}\n */\nexport function decodeOutput(output) {\n  const value = output.map((value) => Math.round(value));\n  const posIndex = Object.values(POS_MAPPING).findIndex((posValue) => posValue.join(\"\") === value.join(\"\"));\n  return Object.keys(POS_MAPPING)[posIndex] || null;\n}\n","export default class InMemoryCache {\n  /**\n   * @param {object} [items]\n   */\n  constructor(items = {}) {\n    this.items = new Map();\n    Object.keys(items).forEach((key) => this.setItem(key, items[key]));\n  }\n\n  /**\n   * Sets the value for the key in the cache object.\n   *\n   * @param {*} key\n   * @param {*} value\n   * @returns {void}\n   */\n  setItem(key, value) {\n    this.items.set(key, value);\n  }\n\n  /**\n   * Retrieves the value associated to the key, or undefined if there is none.\n   *\n   * @param {*} key\n   * @returns {*}\n   */\n  getItem(key) {\n    return this.items.get(key);\n  }\n\n  /**\n   * Returns a boolean asserting whether a value has been associated to the key in the cache object or not.\n   *\n   * @param {*} key\n   * @returns {boolean}\n   */\n  hasItem(key) {\n    return this.items.has(key);\n  }\n\n  /**\n   * Deletes the value associated to the key.\n   *\n   * @param {*} key\n   * @returns {void}\n   */\n  deleteItem(key) {\n    this.items.delete(key);\n  }\n}\n"],"sourceRoot":""}